{"ast":null,"code":"var _jsxFileName = \"/Users/hadrien/Desktop/Projets OPENCLASSROOM/P7_vaison_hadrien/hadrien_P7/frontend/src/pages/register/Register.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport colors from \"../../utils/style/colors\";\nimport logo from \"../../utils/images/logo.png\"; //Styled Components\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegisterContainer = styled.div`\n  width: 90%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center\n  padding:0px 30px 30px 40px;\n`;\n_c = RegisterContainer;\nconst LogoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n`;\n_c2 = LogoContainer;\nconst FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  row-gap: 25px;\n  padding: 25px;\n  border-radius: 10px;\n  border:1px solid ${colors.primary};\n`;\n_c3 = FormContainer;\nconst Title = styled.h2`\n  margin: 0 auto;\n  color: ${colors.tertiary};\n  text-decoration: underline;\n  text-decoration-color: ${colors.primary};\n`;\n_c4 = Title;\nconst Infos = styled.h4`\n  display: flex;\n  width: 50%;\n  color: ${colors.tertiary};\n  margin: 10px 0;\n`;\n_c5 = Infos;\nconst ErrorMsg = styled.p`\n  color: red;\n  font-size: 18px;\n  margin: 0 auto;\n`;\n_c6 = ErrorMsg;\nconst Label = styled.label`\n  color: ${colors.tertiary};\n  font-size: 20px;\n  font-style: italic;\n  text-decoration: underline;\n  text-decoration-color: ${colors.primary};\n`;\n_c7 = Label;\nconst Input = styled.input`\n  height: 25px;\n  border: 2px solid ${colors.tertiary};\n  border-radius: 12px;\n  ::placeholder {\n    text-align: center;\n    opacity: 0.7;\n  }\n  &:focus {\n    outline: none;\n    border: 2px solid ${colors.primary};\n  }\n`;\n_c8 = Input;\nconst Button = styled.button`\n  height: 50px;\n  width: 40%;\n  margin: 10px auto 0 auto;\n  background-color: ${colors.tertiary};\n  color: ${colors.primary};\n  border: 0;\n  border-radius: 25px;\n  box-shadow: ${colors.tertiary} 2px 2px 5px;\n  font-size: large;\n`; //Function\n\n_c9 = Button;\n\nfunction Register() {\n  _s();\n\n  //Navigation\n  const navigate = useNavigate(); //States & refs\n\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const confirmPassword = useRef(); //Error state\n\n  const [errorFormMsg, setErrorFormMsg] = useState(\"\"); //Submit Register Form\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (password.current.value !== confirmPassword.current.value) {\n      confirmPassword.current.setCustomValidity(\"Les mots de passe doivent être identiques\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value\n      };\n\n      try {\n        await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/register`, user);\n        navigate(\"/login\");\n      } catch (error) {\n        setErrorFormMsg(error.response.data);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RegisterContainer, {\n    children: [/*#__PURE__*/_jsxDEV(LogoContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"S'ENREGITRER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), errorFormMsg && /*#__PURE__*/_jsxDEV(ErrorMsg, {\n        children: [errorFormMsg, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"Nom d'utilisateur : *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        required: true,\n        placeholder: \"Votre nom d'utilisateur\",\n        ref: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"E-mail : *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        required: true,\n        placeholder: \"EX: m.dupond@gmail.fr\",\n        ref: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"Mot de passe : *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        required: true,\n        placeholder: \"Votre Mot de Passe\",\n        ref: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        children: \"Confirmer le mot de passe : *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        required: true,\n        placeholder: \"Confirmez votre Mot de Passe\",\n        ref: confirmPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Infos, {\n        children: \"* ces champs sont obligatoire\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: !username || !email || !password || !confirmPassword,\n        children: \"Enregistrer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"/o1mDklSTkCWuJGqKAyeVWEGW0I=\", false, function () {\n  return [useNavigate];\n});\n\n_c10 = Register;\nexport default Register;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"RegisterContainer\");\n$RefreshReg$(_c2, \"LogoContainer\");\n$RefreshReg$(_c3, \"FormContainer\");\n$RefreshReg$(_c4, \"Title\");\n$RefreshReg$(_c5, \"Infos\");\n$RefreshReg$(_c6, \"ErrorMsg\");\n$RefreshReg$(_c7, \"Label\");\n$RefreshReg$(_c8, \"Input\");\n$RefreshReg$(_c9, \"Button\");\n$RefreshReg$(_c10, \"Register\");","map":{"version":3,"names":["axios","React","useState","useRef","useNavigate","styled","colors","logo","RegisterContainer","div","LogoContainer","FormContainer","form","primary","Title","h2","tertiary","Infos","h4","ErrorMsg","p","Label","label","Input","input","Button","button","Register","navigate","username","email","password","confirmPassword","errorFormMsg","setErrorFormMsg","handleSubmit","event","preventDefault","current","value","setCustomValidity","user","post","process","env","REACT_APP_API_URL","error","response","data"],"sources":["/Users/hadrien/Desktop/Projets OPENCLASSROOM/P7_vaison_hadrien/hadrien_P7/frontend/src/pages/register/Register.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport colors from \"../../utils/style/colors\";\nimport logo from \"../../utils/images/logo.png\";\n\n//Styled Components\nconst RegisterContainer = styled.div`\n  width: 90%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center\n  padding:0px 30px 30px 40px;\n`;\n\nconst LogoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n`;\n\nconst FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  row-gap: 25px;\n  padding: 25px;\n  border-radius: 10px;\n  border:1px solid ${colors.primary};\n`;\n\nconst Title = styled.h2`\n  margin: 0 auto;\n  color: ${colors.tertiary};\n  text-decoration: underline;\n  text-decoration-color: ${colors.primary};\n`;\n\nconst Infos = styled.h4`\n  display: flex;\n  width: 50%;\n  color: ${colors.tertiary};\n  margin: 10px 0;\n`;\n\nconst ErrorMsg = styled.p`\n  color: red;\n  font-size: 18px;\n  margin: 0 auto;\n`;\n\nconst Label = styled.label`\n  color: ${colors.tertiary};\n  font-size: 20px;\n  font-style: italic;\n  text-decoration: underline;\n  text-decoration-color: ${colors.primary};\n`;\n\nconst Input = styled.input`\n  height: 25px;\n  border: 2px solid ${colors.tertiary};\n  border-radius: 12px;\n  ::placeholder {\n    text-align: center;\n    opacity: 0.7;\n  }\n  &:focus {\n    outline: none;\n    border: 2px solid ${colors.primary};\n  }\n`;\n\nconst Button = styled.button`\n  height: 50px;\n  width: 40%;\n  margin: 10px auto 0 auto;\n  background-color: ${colors.tertiary};\n  color: ${colors.primary};\n  border: 0;\n  border-radius: 25px;\n  box-shadow: ${colors.tertiary} 2px 2px 5px;\n  font-size: large;\n`;\n\n//Function\nfunction Register() {\n  //Navigation\n  const navigate = useNavigate();\n  //States & refs\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const confirmPassword = useRef();\n  //Error state\n  const [errorFormMsg, setErrorFormMsg] = useState(\"\");\n\n  //Submit Register Form\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (password.current.value !== confirmPassword.current.value) {\n      confirmPassword.current.setCustomValidity(\n        \"Les mots de passe doivent être identiques\"\n      );\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\n          `${process.env.REACT_APP_API_URL}/api/auth/register`,\n          user\n        );\n        navigate(\"/login\");\n      } catch (error) {\n        setErrorFormMsg(error.response.data);\n      }\n    }\n  };\n\n  return (\n    <RegisterContainer>\n      <LogoContainer>\n        <img src={logo} alt=\"\" />\n      </LogoContainer>\n      <FormContainer onSubmit={handleSubmit}>\n        <Title>S'ENREGITRER</Title>\n        {errorFormMsg && <ErrorMsg>{errorFormMsg} </ErrorMsg>}\n        <Label>Nom d'utilisateur : *</Label>\n        <Input\n          type=\"text\"\n          required\n          placeholder=\"Votre nom d'utilisateur\"\n          ref={username}\n        />\n        <Label>E-mail : *</Label>\n        <Input\n          type=\"email\"\n          required\n          placeholder=\"EX: m.dupond@gmail.fr\"\n          ref={email}\n        />\n        <Label>Mot de passe : *</Label>\n        <Input\n          type=\"password\"\n          required\n          placeholder=\"Votre Mot de Passe\"\n          ref={password}\n        />\n\n        <Label>Confirmer le mot de passe : *</Label>\n        <Input\n          type=\"password\"\n          required\n          placeholder=\"Confirmez votre Mot de Passe\"\n          ref={confirmPassword}\n        />\n        <Infos>* ces champs sont obligatoire</Infos>\n        <Button\n          type=\"submit\"\n          disabled={!username || !email || !password || !confirmPassword}\n        >\n          Enregistrer\n        </Button>\n      </FormContainer>\n    </RegisterContainer>\n  );\n}\n\nexport default Register;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,6BAAjB,C,CAEA;;;AACA,MAAMC,iBAAiB,GAAGH,MAAM,CAACI,GAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;KAAMD,iB;AAUN,MAAME,aAAa,GAAGL,MAAM,CAACI,GAAI;AACjC;AACA;AACA;AACA,CAJA;MAAMC,a;AAMN,MAAMC,aAAa,GAAGN,MAAM,CAACO,IAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqBN,MAAM,CAACO,OAAQ;AACpC,CARA;MAAMF,a;AAUN,MAAMG,KAAK,GAAGT,MAAM,CAACU,EAAG;AACxB;AACA,WAAWT,MAAM,CAACU,QAAS;AAC3B;AACA,2BAA2BV,MAAM,CAACO,OAAQ;AAC1C,CALA;MAAMC,K;AAON,MAAMG,KAAK,GAAGZ,MAAM,CAACa,EAAG;AACxB;AACA;AACA,WAAWZ,MAAM,CAACU,QAAS;AAC3B;AACA,CALA;MAAMC,K;AAON,MAAME,QAAQ,GAAGd,MAAM,CAACe,CAAE;AAC1B;AACA;AACA;AACA,CAJA;MAAMD,Q;AAMN,MAAME,KAAK,GAAGhB,MAAM,CAACiB,KAAM;AAC3B,WAAWhB,MAAM,CAACU,QAAS;AAC3B;AACA;AACA;AACA,2BAA2BV,MAAM,CAACO,OAAQ;AAC1C,CANA;MAAMQ,K;AAQN,MAAME,KAAK,GAAGlB,MAAM,CAACmB,KAAM;AAC3B;AACA,sBAAsBlB,MAAM,CAACU,QAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBV,MAAM,CAACO,OAAQ;AACvC;AACA,CAZA;MAAMU,K;AAcN,MAAME,MAAM,GAAGpB,MAAM,CAACqB,MAAO;AAC7B;AACA;AACA;AACA,sBAAsBpB,MAAM,CAACU,QAAS;AACtC,WAAWV,MAAM,CAACO,OAAQ;AAC1B;AACA;AACA,gBAAgBP,MAAM,CAACU,QAAS;AAChC;AACA,CAVA,C,CAYA;;MAZMS,M;;AAaN,SAASE,QAAT,GAAoB;EAAA;;EAClB;EACA,MAAMC,QAAQ,GAAGxB,WAAW,EAA5B,CAFkB,CAGlB;;EACA,MAAMyB,QAAQ,GAAG1B,MAAM,EAAvB;EACA,MAAM2B,KAAK,GAAG3B,MAAM,EAApB;EACA,MAAM4B,QAAQ,GAAG5B,MAAM,EAAvB;EACA,MAAM6B,eAAe,GAAG7B,MAAM,EAA9B,CAPkB,CAQlB;;EACA,MAAM,CAAC8B,YAAD,EAAeC,eAAf,IAAkChC,QAAQ,CAAC,EAAD,CAAhD,CATkB,CAWlB;;EACA,MAAMiC,YAAY,GAAG,MAAOC,KAAP,IAAiB;IACpCA,KAAK,CAACC,cAAN;;IACA,IAAIN,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,KAA2BP,eAAe,CAACM,OAAhB,CAAwBC,KAAvD,EAA8D;MAC5DP,eAAe,CAACM,OAAhB,CAAwBE,iBAAxB,CACE,2CADF;IAGD,CAJD,MAIO;MACL,MAAMC,IAAI,GAAG;QACXZ,QAAQ,EAAEA,QAAQ,CAACS,OAAT,CAAiBC,KADhB;QAEXT,KAAK,EAAEA,KAAK,CAACQ,OAAN,CAAcC,KAFV;QAGXR,QAAQ,EAAEA,QAAQ,CAACO,OAAT,CAAiBC;MAHhB,CAAb;;MAKA,IAAI;QACF,MAAMvC,KAAK,CAAC0C,IAAN,CACH,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,oBAD7B,EAEJJ,IAFI,CAAN;QAIAb,QAAQ,CAAC,QAAD,CAAR;MACD,CAND,CAME,OAAOkB,KAAP,EAAc;QACdZ,eAAe,CAACY,KAAK,CAACC,QAAN,CAAeC,IAAhB,CAAf;MACD;IACF;EACF,CAtBD;;EAwBA,oBACE,QAAC,iBAAD;IAAA,wBACE,QAAC,aAAD;MAAA,uBACE;QAAK,GAAG,EAAEzC,IAAV;QAAgB,GAAG,EAAC;MAApB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE,QAAC,aAAD;MAAe,QAAQ,EAAE4B,YAAzB;MAAA,wBACE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAEGF,YAAY,iBAAI,QAAC,QAAD;QAAA,WAAWA,YAAX;MAAA;QAAA;QAAA;QAAA;MAAA,QAFnB,eAGE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE,QAAC,KAAD;QACE,IAAI,EAAC,MADP;QAEE,QAAQ,MAFV;QAGE,WAAW,EAAC,yBAHd;QAIE,GAAG,EAAEJ;MAJP;QAAA;QAAA;QAAA;MAAA,QAJF,eAUE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVF,eAWE,QAAC,KAAD;QACE,IAAI,EAAC,OADP;QAEE,QAAQ,MAFV;QAGE,WAAW,EAAC,uBAHd;QAIE,GAAG,EAAEC;MAJP;QAAA;QAAA;QAAA;MAAA,QAXF,eAiBE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjBF,eAkBE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,QAAQ,MAFV;QAGE,WAAW,EAAC,oBAHd;QAIE,GAAG,EAAEC;MAJP;QAAA;QAAA;QAAA;MAAA,QAlBF,eAyBE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAzBF,eA0BE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,QAAQ,MAFV;QAGE,WAAW,EAAC,8BAHd;QAIE,GAAG,EAAEC;MAJP;QAAA;QAAA;QAAA;MAAA,QA1BF,eAgCE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhCF,eAiCE,QAAC,MAAD;QACE,IAAI,EAAC,QADP;QAEE,QAAQ,EAAE,CAACH,QAAD,IAAa,CAACC,KAAd,IAAuB,CAACC,QAAxB,IAAoC,CAACC,eAFjD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjCF;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA+CD;;GAnFQL,Q;UAEUvB,W;;;OAFVuB,Q;AAqFT,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}