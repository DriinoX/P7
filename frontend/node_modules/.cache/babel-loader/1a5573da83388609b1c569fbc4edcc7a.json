{"ast":null,"code":"var _jsxFileName = \"/Users/hadrien/Desktop/Projets OPENCLASSROOM/P7_vaison_hadrien/hadrien_P7/frontend/src/components/feed/Feed.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PostForm from \"../postform/PostForm\";\nimport Post from \"../post/Post\";\nimport colors from \"../../utils/style/colors\";\nimport { AuthContext } from \"../../context/AuthContext\"; //Styled components\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedContainer = styled.div`\n  flex: 5.5;\n  width:100%;\n`;\n_c = FeedContainer;\nconst FeedWrapper = styled.div`\n  padding: 20px;\n`;\n_c2 = FeedWrapper;\nconst Title = styled.h2`\n  text-align: center;\n  margin-top: 25px;\n  font-style: italic;\n  font-size: 30px;\n  color: ${colors.tertiary};\n`; //Function\n\n_c3 = Title;\nexport default function Feed() {\n  _s();\n\n  //Use user context\n  const {\n    user\n  } = useContext(AuthContext);\n  const [posts, setPosts] = useState([]); //Get All Posts\n\n  useEffect(() => {\n    const getPosts = async () => {\n      await axios.get(`http://localhost:3002/api/posts`, {\n        headers: {\n          Authorization: user.token\n        }\n      }).then(response => {\n        setPosts(response.data);\n      });\n    };\n\n    getPosts();\n  }, [user.token]);\n  return /*#__PURE__*/_jsxDEV(FeedContainer, {\n    children: [/*#__PURE__*/_jsxDEV(PostForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      children: \"Fil d'actualit\\xE9 :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FeedWrapper, {\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n        post: post\n      }, post._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Feed, \"4WNCxz+4P2TcM/gd08rAtk1EWA0=\");\n\n_c4 = Feed;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"FeedContainer\");\n$RefreshReg$(_c2, \"FeedWrapper\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Feed\");","map":{"version":3,"names":["axios","useEffect","useState","useContext","styled","PostForm","Post","colors","AuthContext","FeedContainer","div","FeedWrapper","Title","h2","tertiary","Feed","user","posts","setPosts","getPosts","get","headers","Authorization","token","then","response","data","map","post","_id"],"sources":["/Users/hadrien/Desktop/Projets OPENCLASSROOM/P7_vaison_hadrien/hadrien_P7/frontend/src/components/feed/Feed.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PostForm from \"../postform/PostForm\";\nimport Post from \"../post/Post\";\nimport colors from \"../../utils/style/colors\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\n//Styled components\nconst FeedContainer = styled.div`\n  flex: 5.5;\n  width:100%;\n`;\n\nconst FeedWrapper = styled.div`\n  padding: 20px;\n`;\n\nconst Title = styled.h2`\n  text-align: center;\n  margin-top: 25px;\n  font-style: italic;\n  font-size: 30px;\n  color: ${colors.tertiary};\n`;\n\n//Function\nexport default function Feed() {\n  //Use user context\n  const { user } = useContext(AuthContext);\n\n  const [posts, setPosts] = useState([]);\n\n  //Get All Posts\n  useEffect(() => {\n    const getPosts = async () => {\n      await axios\n        .get(`http://localhost:3002/api/posts`, {\n          headers: { Authorization: user.token },\n        })\n        .then((response) => {\n          setPosts(response.data);\n        });\n    };\n    getPosts();\n  }, [user.token]);\n  return (\n    <FeedContainer>\n      <PostForm />\n      <Title>Fil d'actualit√© :</Title>\n      <FeedWrapper>\n        {posts.map((post) => (\n          <Post key={post._id} post={post} />\n        ))}\n      </FeedWrapper>\n    </FeedContainer>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,WAAT,QAA4B,2BAA5B,C,CAEA;;;AACA,MAAMC,aAAa,GAAGL,MAAM,CAACM,GAAI;AACjC;AACA;AACA,CAHA;KAAMD,a;AAKN,MAAME,WAAW,GAAGP,MAAM,CAACM,GAAI;AAC/B;AACA,CAFA;MAAMC,W;AAIN,MAAMC,KAAK,GAAGR,MAAM,CAACS,EAAG;AACxB;AACA;AACA;AACA;AACA,WAAWN,MAAM,CAACO,QAAS;AAC3B,CANA,C,CAQA;;MARMF,K;AASN,eAAe,SAASG,IAAT,GAAgB;EAAA;;EAC7B;EACA,MAAM;IAAEC;EAAF,IAAWb,UAAU,CAACK,WAAD,CAA3B;EAEA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC,CAJ6B,CAM7B;;EACAD,SAAS,CAAC,MAAM;IACd,MAAMkB,QAAQ,GAAG,YAAY;MAC3B,MAAMnB,KAAK,CACRoB,GADG,CACE,iCADF,EACoC;QACtCC,OAAO,EAAE;UAAEC,aAAa,EAAEN,IAAI,CAACO;QAAtB;MAD6B,CADpC,EAIHC,IAJG,CAIGC,QAAD,IAAc;QAClBP,QAAQ,CAACO,QAAQ,CAACC,IAAV,CAAR;MACD,CANG,CAAN;IAOD,CARD;;IASAP,QAAQ;EACT,CAXQ,EAWN,CAACH,IAAI,CAACO,KAAN,CAXM,CAAT;EAYA,oBACE,QAAC,aAAD;IAAA,wBACE,QAAC,QAAD;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,KAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE,QAAC,WAAD;MAAA,UACGN,KAAK,CAACU,GAAN,CAAWC,IAAD,iBACT,QAAC,IAAD;QAAqB,IAAI,EAAEA;MAA3B,GAAWA,IAAI,CAACC,GAAhB;QAAA;QAAA;QAAA;MAAA,QADD;IADH;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAWD;;GA9BuBd,I;;MAAAA,I"},"metadata":{},"sourceType":"module"}